# Cilium Helm values for Kubernetes 1.34.1 with IPVS mode
# Generated by Ansible

ipam:
  mode: kubernetes

kubeProxyReplacement: strict

k8sServiceHost: {{ control_plane_endpoint.split(':')[0] }}
k8sServicePort: {{ control_plane_endpoint.split(':')[1] | default('6443') }}

ipv4NativeRoutingCIDR: {{ pod_network_cidr }}

# Disable tunneling for better performance
tunnel: disabled
autoDirectNodeRoutes: true

# Masquerading
enableIPv4Masquerade: true
enableIPv6Masquerade: false

# Load balancing
loadBalancer:
  mode: dsr

# BGP (disabled for now)
enableBGPControlPlane: false

# Operator replicas
operator:
  replicas: 1

# IPVS mode support
k8sClientRateLimit:
  qps: 50
  burst: 100

# Resource limits
resources:
  requests:
    cpu: 100m
    memory: 512Mi

operator:
  resources:
    requests:
      cpu: 100m
      memory: 128Mi

